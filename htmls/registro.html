<!-- registro.html -->
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Registrarse</title>
    <link rel="stylesheet" href="../css/login.css">
</head>

<body>

    <form class="form">
        <button type="button" class="back-button" onclick="regresar()">
            <div class="button-box">
                <span class="button-elem">
                    <svg viewBox="0 0 46 40" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z">
                        </path>
                    </svg>
                </span>
            </div>
        </button>
        <h2>Registrate</h2>
        <div class="flex-column">
            <label>Nombre</label>
        </div>
        <div class="inputForm">
            <input id="nombre" placeholder="Tu nombre completo" class="input" type="text" />
        </div>

        <div class="flex-column">
            <label>Email</label>
        </div>
        <div class="inputForm">
            <input id="email" placeholder="Correo electrónico" class="input" type="email" />
        </div>

        <div class="flex-column">
            <label>Contraseña</label>
        </div>
        <div class="inputForm">
            <input id="password" placeholder="Crea una contraseña" class="input" type="password" />
        </div>

        <button class="button-submit">Registrarme</button>
    </form>


    <script>
        document.querySelector(".button-submit").addEventListener("click", function (e) {
            e.preventDefault();

            const nombre = document.getElementById("nombre").value.trim();
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();

            if (!nombre || !email || !password) {
                alert("Completa todos los campos.");
                return;
            }

            const usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
            if (usuarios.some(u => u.email === email)) {
                alert("Ese correo ya está registrado.");
                return;
            }

            usuarios.push({ nombre, email, password });
            localStorage.setItem("usuarios", JSON.stringify(usuarios));
            alert("¡Registro exitoso! Ahora puedes iniciar sesión.");
            window.location.href = "login.html";
        });

        function regresar() {
            window.location.href = "login.html";
        }
    </script>
</body>

</html>